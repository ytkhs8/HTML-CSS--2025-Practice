<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Image Compare - 画像比較スライダー</title>
    <meta name="description" content="画像比較スライダーのページです。" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- CSS -->
    <link rel="stylesheet" href="css/compare.css" />

    <!-- face-api.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/face-api.js@0.22.2/dist/face-api.min.js"></script>
</head>

<body>
    <header class="header">
        <div class="header-left">
            <img src="images/A_flat-style_digital_illustration_features_an_icon.png" alt="Image Compare Icon" class="app-icon">
            <div class="app-title" data-i18n="header.title">Image Compare</div>
        </div>
        <div class="header-right">
        <button id="lang-toggle" class="lang-toggle" aria-label="Toggle language">JP</button>
        <button class="hamburger" id="hamburger-btn" aria-label="メニューを開く" aria-controls="side-menu" aria-expanded="false">
            <span></span>
            <span></span>
            <span></span>
        </button>
        </div>
        <nav class="side-menu" id="side-menu">
            <ul>
                <li><a href="#" data-page="materials" data-i18n="menu.materials">比較用使用素材</a></li>
                <li><a href="#" data-page="info" data-i18n="menu.info">利用案内・注意事項</a></li>
                <li><a href="#" data-page="about" data-i18n="menu.about">開発者・当サイト紹介</a></li>
                <li><a href="#" data-page="contact" data-i18n="menu.contact">要望・バグ報告</a></li>
            </ul>
        </nav>
        <div class="overlay" id="menu-overlay"></div>
    </header>

    <main>
        <section id="home" class="page active">
            <h1 data-i18n="home.title">画像比較スライダー</h1>
            <form id="compare-form" autocomplete="off">
                <!-- Wizard Guide (Step-by-step helper) -->
                <div id="wizard-guide" class="wizard-guide" aria-live="polite">
                    <span id="guide-text" class="i18n-text" data-i18n="wizard.step.selectBefore">
                        ビフォー画像を選択してください
                    </span>
                    <div class="wizard-actions">
                        <!-- After selecting BEFORE image -->
                        <button id="next-btn-1" class="btn-secondary" style="display:none" type="button" data-i18n="wizard.next">次へ</button>
                        <!-- After selecting AFTER image -->
                        <button id="next-btn-2" class="btn-secondary" style="display:none" type="button" data-i18n="wizard.next">次へ</button>
                        <!-- After choosing face-only toggle -->
                        <button id="next-btn-3" class="btn-secondary" style="display:none" type="button" data-i18n="wizard.next">次へ</button>
                        <!-- Final: Start Compare (enabled only when both images selected) -->
                        <button id="start-compare-btn" class="btn-primary" type="button" disabled data-i18n="wizard.start">比較を開始</button>
                    </div>
                </div>
                <div class="upload-area">
                    <label class="big-upload">
                        <input type="file" id="before-img" accept="image/*" hidden>
                        <span data-i18n="upload.before">
                            <img src="https://cdn-icons-png.flaticon.com/128/1828/1828925.png" alt="" class="upload-icon">
                            ビフォー画像を選択
                        </span>
                    </label>
                    <label class="big-upload">
                        <input type="file" id="after-img" accept="image/*" hidden>
                        <span data-i18n="upload.after">
                            <img src="https://cdn-icons-png.flaticon.com/128/1828/1828925.png" alt="" class="upload-icon">
                            アフター画像を選択
                        </span>
                    </label>
                </div>
                <div class="face-only-option">
                    <label>
                        <input type="checkbox" id="face-only">
                        <span data-i18n="face.only">顔だけ比較モード</span>
                    </label>
                </div>

                    <button type="button" id="reset-btn" data-i18n="btn.reset">リセット</button>
                    <span id="reset-hint" class="reset-hint i18n-text" data-i18n="wizard.hint.reset">
                        比較をやり直す場合はリセットボタンをクリック
                    </span>
                </div>
            </form>

            <div id="half-face-result" class="half-face" style="display:none;">
                    <img id="half-face-img" alt="Half Face Composite">
                    <div class="half-face-caption" data-i18n="caption.halfface">左：Before / 右：After</div>
            </div>

            <div class="slider-container" id="slider-container" style="display:none;">
                <div class="compare-slider">
                    <img id="img-before" src="" alt="Before Image">
                    <div class="img-overlay">
                        <img id="img-after" src="" alt="After Image">
                    </div>
                    <div class="slider-handle" id="slider-handle"></div>
                </div>
            </div>
            <div id="face-loading" style="display: none;" data-i18n="msg.loading">顔検出モデル読み込み中...</div>
            <div id="face-error" style="display: none;color:crimson;margin-top:8px;" data-i18n="msg.noFace">顔が見つかりませんでした。通常比較になります。</div>
        </section>
        <section id="materials" class="page">
            <h2 data-i18n="materials.title">比較用使用素材</h2>
            <p data-i18n="materials.lead">
                当サイトの画像比較スライダーを皆様に体験して頂く目的で様々な用途の素材をこちらで用意しました。是非素材をダウンロードして当サイトの画像比較をお楽しみください。
            </p>

            <div class="materials-section">
                <h3 data-i18n="materials.category.landscape">風景画</h3>
                <div class="materials-grid">
                  <article class="material-set">
                    <h4 data-i18n="materials.landscape.city.title">現在と昔の渋谷の変貌</h4>
                    <figure>
                        <figcaption data-i18n="materials.landscape.city.before">現在の渋谷駅周辺</figcaption>
                        <img src="demo-images/city-before.png" alt="現在の渋谷駅周辺の高層ビルと交差点">
                    </figure>
                    <figure>
                        <figcaption data-i18n="materials.landscape.city.after">昔の渋谷駅周辺</figcaption>
                        <img src="demo-images/city-after.png" alt="昔の渋谷駅周辺の街並み">
                    </figure>
                  </article>
                  <article class="material-set">
                    <h4 data-i18n="materials.landscape.lifestyle.title">現在と昔の人々の暮らしの違い</h4>
                    <figure>
                        <figcaption data-i18n="materials.landscape.lifestyle.before">現代の暮らし</figcaption>
                        <img src="demo-images/lifestyle-before.png" alt="現代の街角でスマートフォンを使う人々">
                    </figure>
                    <figure>
                        <figcaption data-i18n="materials.landscape.lifestyle.after">昔の暮らし</figcaption>
                        <img src="demo-images/lifestyle-after.png" alt="昔の市場で買い物をする人々">
                    </figure>
                  </article>
                  <article class="material-set">
                    <h4 data-i18n="materials.landscape.resolution.title">アメリカのシリコンバレーと東京の街並みの対比</h4>
                    <figure>
                        <figcaption data-i18n="materials.landscape.town.before">アメリカのシリコンバレー</figcaption>
                        <img src="demo-images/landscape-before.jpg" alt="アメリカのシリコンバレーの街並み">
                    </figure>
                    <figure>
                        <figcaption data-i18n="materials.landscape.town.after">日本の東京</figcaption>
                        <img src="demo-images/landscape-after.jpg" alt="日本の東京の街並み">
                    </figure>
                  </article>
                </div>
            </div>

            <div class="materials-section">
              <h3 data-i18n="materials.category.objects">対象物</h3>
              <div class="materials-grid">
                <article class="material-set">
                　<h4 data-i18n="materials.objects.iphone.title">iPhone3GとiPhone17 Proの外観の対比</h4>
                　<figure>
                    <figcaption data-i18n="materials.objects.iphone.before">iPhone3Gの外観</figcaption>
                    <img src="demo-images/device-before.png" alt="黒いiPhone3G">
                </figure>
                <figure>
                    <figcaption data-i18n="materials.objects.iphone.after">iPhone16 Proの外観</figcaption>
                    <img src="demo-images/device-after.png" alt="iPhone16 Pro">
                </figure>
                </article>
                <article class="material-set">
                  <h4 data-i18n="materials.objects.shirt.title">オックスフォードシャツとオープンカラーシャツの対比</h4>
                  <figure>
                    <figcaption data-i18n="materials.objects.shirt.oxford">オックスフォードシャツ</figcaption>
                    <img src="demo-images/shirt-oxford.png" alt="ボタンダウンの白いオックスフォードシャツ">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.objects.shirt.opencollar">オープンカラーシャツ</figcaption>
                    <img src="demo-images/shirt-opencollar.png" alt="開襟のオープンカラーシャツ">
                  </figure>
                </article>
                <article class="material-set">
                   <h4 data-i18n="materials.objects.chameleon.title">カメレオンの体の色の変化</h4>
                   <figure>
                    <figcaption data-i18n="materials.objects.chameleon.before">緑色のカメレオン</figcaption>
                    <img src="https://images.unsplash.com/photo-1617540021016-72023b487e99?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=3174" alt="緑色のカメレオン">
                   </figure>
                   <figure>
                    <figcaption data-i18n="materials.objects.chameleon.after">鮮やかな色のカメレオン</figcaption>
                    <img src="https://images.unsplash.com/photo-1633507733525-fb5960cba41d?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=2940" alt="鮮やかな色のカメレオン">
                   </figure>
                </article>
              </div>
            </div>

            <div class="materials-section">
              <h3 data-i18n="materials.category.people">人物像</h3>
              <div class="materials-grid">
                <article class="material-set">
                    <h4 data-i18n="materials.people.diet.title">ダイエット前とダイエット後の姿の対比</h4>
                    <figure>
                      <figcaption data-i18n="materials.people.diet.before">ダイエット前の姿</figcaption>
                      <img src="demo-images/diet-before.jpeg" alt="ダイエット前の全身写真">
                    </figure>
                    <figure>
                        <figcaption data-i18n="materials.people.diet.after">ダイエット後の姿</figcaption>
                        <img src="demo-images/diet-after.jpeg" alt="ダイエット後の全身写真">
                    </figure>
                </article>
                <article class="material-set">
                  <h4 data-i18n="materials.people.growth.title">子どもの成長前後の比較</h4>
                  <figure>
                    <figcaption data-i18n="materials.people.growth.before">７歳の頃</figcaption>
                    <img src="demo-images/growth-before.png" alt="幼少期の写真">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.people.growth.after">２０歳の頃</figcaption>
                    <img src="demo-images/growth-after.png" alt="成長後の写真">
                  </figure>
                </article>
                <article class="material-set">
                  <h4 data-i18n="materials.people.cosplay.title">普段の自分とハロウィンのコスプレをした自分の対比</h4>
                  <figure>
                    <figcaption data-i18n="materials.people.cosplay.before">普段着の自分</figcaption>
                    <img src="demo-images/cosplay-before.png" alt="普段着の写真">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.people.cosplay.after">ハロウィンのコスプレ</figcaption>
                    <img src="demo-images/cosplay-after.png" alt="ハロウィンコスプレの写真">
                  </figure>
                </article>
              </div>
            </div>

            <div class="materials-section">
              <h3 data-i18n="materials.category.faces">人物の顔</h3>
              <div class="materials-grid">
                <article class="material-set">
                  <h4 data-i18n="materials.face.cosmetic-surgery.title">美容整形施術前後の顔の対比</h4>
                  <figure>
                    <figcaption data-i18n="materials.face.cosmetic-surgery.before">施術前</figcaption>
                    <img src="https://images.unsplash.com/photo-1524502397800-2eeaad7c3fe5?auto=format&fit=crop&w=600&q=80" alt="施術前の顔の正面写真">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.face.cosmetic-surgery.after">施術後</figcaption>
                    <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=crop&w=600&q=80" alt="施術後の顔の正面写真">
                  </figure>
                </article>
                <article class="material-set">
                  <h4 data-i18n="materials.face.makeup.title">メイク前後の自分の顔の比較</h4>
                  <figure>
                    <figcaption data-i18n="materials.face.makeup.before">すっぴん</figcaption>
                    <img src="demo-images/face-before.png" alt="すっぴんの女性">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.face.makeup.after">メイク時</figcaption>
                    <img src="demo-images/face-after.png" alt="メイク時の女性">
                  </figure>
                </article>
                <article class="material-set">
                  <h4 data-i18n="materials.face.age.title">幼少期と成人の同一人物の顔の対比</h4>
                  <figure>
                    <figcaption data-i18n="materials.face.age.before">３歳の顔</figcaption>
                    <img src=""　alt="３歳頃の顔写真">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.face.age.after">２３歳の頃</figcaption>
                    <img src="" alt="２３歳頃の顔写真">
                  </figure>
                </article>
              </div>
            </div>

            <div class="materials-section">
              <h3 data-i18n="materials.category.results">成果物</h3>
              <div class="materials-grid">
                <article class="material-set">
                  <h4 data-i18n="materials.result.cleaning.title">掃除をした箇所のビフォーアフター</h4>
                  <figure>
                    <figcaption data-i18n="materials.result.cleaning.before">掃除前の状態</figcaption>
                    <img src="" alt="水垢や黒カビで汚くなった浴室">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.result.cleaning.after">掃除後の状態</figcaption>
                    <img src="" alt="ピカピカに磨かれた浴室">
                  </figure>
                </article>
                <article class="material-set">
                  <h4 data-i18n="materials.result.learning.title">学習前後の成果物の対比</h4>
                  <figure>
                    <figcaption data-i18n="materials.result.learning.before">学習前の作品</figcaption>
                    <img src="" alt="練習中の絵画">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.result.learning.after">学習後の作品</figcaption>
                    <img src="" alt="プロ並みの腕前の絵画">
                  </figure>
                </article>
                <article class="material-set">
                  <h4 data-i18n="materials.result.clothing.title">洋服の汚れ落としのビフォーアフター</h4>
                  <figure>
                    <figcaption data-i18n="materials.result.clothing.before">汚れの付いた洋服</figcaption>
                    <img src="" alt="汚れの付いた白いシャツ">
                  </figure>
                  <figure>
                    <figcaption data-i18n="materials.result.clothing.after">汚れを落とした洋服</figcaption>
                    <img src="" alt="汚れが落ちた白いシャツ">
                  </figure>
                </article>
              </div>
            </div>
        </section>
        <section id="info" class="page">
            <h2 data-i18n="info.title">利用案内・注意事項</h2>
            <ul>
                <li data-i18n="info.format">対応画像フォーマット：JPEG, PNG, WebP</li>
                <li data-i18n="info.size">推奨サイズ：長辺2000px以内</li>
                <li data-i18n="info.storage">アップロードされた画像はサーバに保存されません</li>
                <li data-i18n="info.usage">画像の悪用・転載は一切行いません</li>
                <li data-i18n="info.contact">不具合・ご要望は「要望・バグ報告」よりご連絡ください</li>
            </ul>
        </section>
        <section id="about" class="page">
            <h2 data-i18n="about.title">開発者について</h2>
            <p data-i18n="about.desc">東京都在住の駆け出しエンジニアYuukiが、学習の一環で制作しています。<br>
            JavaやSpringBoot、JavaScriptなど幅広くWeb技術を学び、ポートフォリオとして公開中です。</p>
            <h2 data-i18n="about.howto">用途概要</h2>
            <p data-i18n="about.howto.desc">この画像比較スライダーは主に風景画・対象物・人物像・人物の顔・成果物の比較を行いたい際に役立ちます。</p>
        </section>
        <section id="contact" class="page">
            <h2 data-i18n="contact.title">要望・バグ報告</h2>
            <form id="contact-form">
            <div class="form-field">
                <label for="name"><span class="i18n-text" data-i18n="contact.name">お名前（任意）</span></label>
                <input id="name" type="text" name="name" autocomplete="name">
            </div>

            <div class="form-field">
                <label for="message"><span class="i18n-text" data-i18n="contact.message">内容</span></label>
                <textarea id="message" name="message" required></textarea>
            </div>
                <button type="submit" data-i18n="contact.submit">送信</button>
            </form>
            <div id="contact-success" style="display:none;" data-i18n="contact.success">ご意見ありがとうございます！</div>
        </section>
    </main>

    <!-- Footer -->
     <footer class="site-footer">
        <p><small>Copyright ©︎ 2025 Yuuki</small></p>
     </footer>
<!-- JavaScript -->
    <script type="module" src="js/compare.js"></script>
</body>
</html>